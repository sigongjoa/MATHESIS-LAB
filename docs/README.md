# MATHESIS LAB 소프트웨어 개발 방법론

## 1. 개요
이 문서는 'MATHESIS LAB' 프로젝트의 소프트웨어 개발 방법론으로 SDD(Software Design Document) 기반 개발과 TDD(Test-Driven Development) 기반 개발의 통합 전략을 설명합니다. SDD는 프로젝트의 큰 그림과 상세 설계를 제공하며, TDD는 이 설계를 바탕으로 견고하고 테스트 가능한 코드를 점진적으로 구축하는 프로세스를 정의합니다.

## 2. SDD (Software Design Document) 기반 개발

SDD는 개발 착수 전, '무엇을, 어떻게 만들 것인가'에 대한 상세한 기술 청사진을 제공합니다. 기획서 v4.0의 추상적인 아이디어를 구체적인 개발 명세로 전환하는 과정입니다.

### 2.1. 요구사항 명세서 (SRS - Software Requirements Specification)
*   **목적:** 기획서 v4.0의 기능 및 비기능 요구사항을 개발자가 구현할 수 있도록 상세히 정의합니다.
*   **주요 내용:**
    *   **기능 요구사항:** 커리큘럼 맵 관리, Zotero 연동, AI 보조 작가 기능, YouTube 연동 등 각 기능의 상세 시나리오, 입력, 처리, 출력, 예외 상황.
    *   **비기능 요구사항:** 성능(응답 시간, 처리량), 보안(인증/인가, 데이터 보호), 사용성, 확장성, 유지보수성, 배포 전략.
*   **산출물:** `docs/sdd/srs/README.md`

### 2.2. 소프트웨어 아키텍처 문서 (SAD - Software Architecture Document)
*   **목적:** 'MATHESIS LAB'의 GCP 아키텍처(v4.0)를 시각화하고, 각 컴포넌트의 역할, 상호작용, 기술 스택을 정의합니다.
*   **주요 내용:**
    *   **아키텍처 다이어그램:** 시스템 컨텍스트 다이어그램, 컨테이너 다이어그램 (C4 Model Level 1, 2).
    *   **컴포넌트 정의:** 웹 프론트엔드, 백엔드 API, 데이터베이스, Zotero 서버, 파일 스토리지, AI 서비스 등 각 컴포넌트의 역할, 책임, 기술 스택, 배포 환경.
*   **산출물:** `docs/sdd/sad/README.md`

### 2.3. 데이터베이스 설계 문서 (Database Design Document)
*   **목적:** 아키텍처의 핵심인 '데이터'의 구조와 관계를 정의합니다.
*   **주요 내용:**
    *   **ERD (엔티티-관계 다이어그램):** 플랫폼 DB 스키마 (USERS, CURRICULUMS, NODES, NODE_CONTENTS, NODE_LINKS, ZOTERO_ITEMS, YOUTUBE_VIDEOS) 및 Zotero DB 스키마 분석.
    *   **데이터 사전 (Data Dictionary):** 각 테이블의 컬럼명, 데이터 타입, 제약 조건, 설명.
*   **산출물:** `docs/sdd/db_design/README.md`

### 2.4. API 명세서 (API Specification)
*   **목적:** 플랫폼 내부 컴포넌트 간의 '통신 규약'을 정의하여 프론트엔드, 백엔드, AI 모듈 간의 원활한 연동을 보장합니다.
*   **주요 내용:**
    *   **내부 API:** 웹 프론트엔드 ↔ 백엔드 (인증, 커리큘럼/노드 관리, 링크 관리)의 엔드포인트, 요청/응답 형식, 인증/인가.
    *   **핵심 AI API:** 백엔드 ↔ Vertex AI (이미지 기반 Manim 코드 가이드라인 생성, 노드 내용 요약/확장/질의응답)의 호출 방식, 입력/출력.
    *   **Zotero API:** 백엔드 ↔ 자체 호스팅 Zotero 서버 (문헌 검색)의 엔드포인트, 쿼리 파라미터, 응답 형식.
    *   **YouTube Data API:** 백엔드 ↔ YouTube (영상 정보 조회)의 호출 방식, 입력/출력.
*   **산출물:** `docs/sdd/api_spec/README.md`

## 3. TDD (Test-Driven Development) 기반 개발

TDD는 SDD에서 정의한 '무엇을 만들지'를 '어떻게 만들지'에 대한 실행 가능한 가이드라인으로 전환합니다. 작은 테스트를 먼저 작성하고, 이를 통과하는 코드를 작성하는 반복적인 프로세스입니다.

### 3.1. 사용자 스토리 (User Stories)
*   **목적:** SDD의 '요구사항'을 개발자가 구현할 수 있는 가장 작은 '기능 단위'로 쪼개어, 개발의 우선순위를 정하고 테스트 케이스의 기반을 마련합니다.
*   **형식:** "나는 [사용자]로서, [어떤 기능]을 원한다. 왜냐하면 [이익] 때문이다."
*   **산출물:** `docs/tdd/user_stories/README.md`

### 3.2. 테스트 케이스 (Test Cases)
*   **목적:** 각 '사용자 스토리'가 성공적으로 구현되었는지 검증할 수 있는 구체적인 시나리오 목록을 정의합니다.
*   **주요 내용:** 각 테스트 케이스에 대한 설명, 사전 조건, 입력, 기대 결과. 긍정/부정/경계 케이스 포함.
*   **산출물:** `docs/tdd/test_cases/README.md`

### 3.3. 단위 테스트 코드 (Unit Test Code)
*   **목적:** TDD의 핵심으로, 위 '테스트 케이스'를 Pytest(백엔드)나 Jest(프론트엔드)와 같은 프레임워크를 사용하여 실제 실행 가능한 코드로 작성합니다.
*   **프로세스 (Red-Green-Refactor):**
    1.  **Red:** 구현하려는 기능에 대한 테스트 케이스를 선택하고, 이를 검증하는 단위 테스트 코드를 먼저 작성합니다. 이 코드는 기능이 없으므로 실패해야 합니다.
    2.  **Green:** 실패한 테스트를 통과시킬 수 있는 최소한의 기능 코드를 작성합니다.
    3.  **Refactor:** 테스트가 성공하면, 기능 코드를 개선하고 리팩토링합니다. 리팩토링 후에도 모든 테스트가 성공하는지 확인합니다.
    4.  **반복:** 다음 테스트 케이스에 대해 이 사이클을 반복합니다.
*   **산출물:** `docs/tdd/unit_test_code/README.md` (실제 코드는 `backend/tests/`, `frontend/src/__tests__/` 등에 위치)

## 4. 통합 개발 전략
'MATHESIS LAB' 프로젝트는 SDD와 TDD를 결합한 하이브리드 접근 방식을 채택합니다.

1.  **설계 우선 (SDD):** 프로젝트의 초기 단계에서는 SDD 문서를 통해 시스템의 전체적인 구조와 각 컴포넌트의 상세 설계를 확정합니다. 이는 팀 전체의 공통 이해를 형성하고, 개발 방향을 명확히 하는 데 필수적입니다.
2.  **점진적 구현 (TDD):** SDD에서 정의된 각 기능 또는 모듈은 TDD 원칙에 따라 구현됩니다. 설계 문서를 바탕으로 사용자 스토리를 도출하고, 이에 대한 테스트 케이스를 작성한 후, Red-Green-Refactor 사이클을 반복하여 코드를 개발합니다.
3.  **지속적인 검증:** TDD를 통해 작성된 단위 테스트는 코드 변경 시 회귀 테스트 역할을 하여, 새로운 기능 추가나 리팩토링이 기존 기능에 영향을 주지 않음을 지속적으로 검증합니다.
4.  **문서와 코드의 동기화:** SDD 문서는 개발 과정에서 발견되는 새로운 요구사항이나 설계 변경 사항을 반영하여 지속적으로 업데이트되어야 합니다. TDD의 테스트 코드는 설계의 '실행 가능한 문서' 역할을 합니다.

이러한 통합 전략을 통해 'MATHESIS LAB' 프로젝트는 체계적인 설계와 견고한 구현을 동시에 달성하여, 고품질의 소프트웨어를 효율적으로 개발할 수 있을 것입니다.